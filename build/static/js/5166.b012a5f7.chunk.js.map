{"version":3,"file":"static/js/5166.b012a5f7.chunk.js","mappings":"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","sources":["../node_modules/@tsparticles/shape-emoji/browser/EmojiDrawer.js","../node_modules/@tsparticles/shape-emoji/browser/Utils.js"],"sourcesContent":["import { executeOnSingleOrMultiple, getRangeMax, isInArray, itemFromSingleOrMultiple, loadFont, } from \"@tsparticles/engine\";\nimport { drawEmoji } from \"./Utils.js\";\nimport { validTypes } from \"./Constants.js\";\nconst defaultFont = '\"Twemoji Mozilla\", Apple Color Emoji, \"Segoe UI Emoji\", \"Noto Color Emoji\", \"EmojiOne Color\"';\nexport class EmojiDrawer {\n    constructor() {\n        this._emojiShapeDict = new Map();\n    }\n    destroy() {\n        for (const [key, emojiData] of this._emojiShapeDict) {\n            if (emojiData instanceof ImageBitmap) {\n                emojiData?.close();\n                this._emojiShapeDict.delete(key);\n            }\n        }\n    }\n    draw(data) {\n        drawEmoji(data);\n    }\n    async init(container) {\n        const options = container.actualOptions;\n        if (!validTypes.find((t) => isInArray(t, options.particles.shape.type))) {\n            return;\n        }\n        const promises = [loadFont(defaultFont)], shapeOptions = validTypes\n            .map((t) => options.particles.shape.options[t])\n            .find((t) => !!t);\n        if (shapeOptions) {\n            executeOnSingleOrMultiple(shapeOptions, (shape) => {\n                if (shape.font) {\n                    promises.push(loadFont(shape.font));\n                }\n            });\n        }\n        await Promise.all(promises);\n    }\n    particleDestroy(particle) {\n        delete particle.emojiData;\n    }\n    particleInit(container, particle) {\n        const double = 2, shapeData = particle.shapeData;\n        if (!shapeData?.value) {\n            return;\n        }\n        const emoji = itemFromSingleOrMultiple(shapeData.value, particle.randomIndexData), font = shapeData.font ?? defaultFont;\n        if (!emoji) {\n            return;\n        }\n        const key = `${emoji}_${font}`, existingData = this._emojiShapeDict.get(key);\n        if (existingData) {\n            particle.emojiData = existingData;\n            return;\n        }\n        const canvasSize = getRangeMax(particle.size.value) * double;\n        let emojiData;\n        const maxSize = getRangeMax(particle.size.value);\n        if (typeof OffscreenCanvas !== \"undefined\") {\n            const canvas = new OffscreenCanvas(canvasSize, canvasSize), context = canvas.getContext(\"2d\");\n            if (!context) {\n                return;\n            }\n            context.font = `400 ${maxSize * double}px ${font}`;\n            context.textBaseline = \"middle\";\n            context.textAlign = \"center\";\n            context.fillText(emoji, maxSize, maxSize);\n            emojiData = canvas.transferToImageBitmap();\n        }\n        else {\n            const canvas = document.createElement(\"canvas\");\n            canvas.width = canvasSize;\n            canvas.height = canvasSize;\n            const context = canvas.getContext(\"2d\");\n            if (!context) {\n                return;\n            }\n            context.font = `400 ${maxSize * double}px ${font}`;\n            context.textBaseline = \"middle\";\n            context.textAlign = \"center\";\n            context.fillText(emoji, maxSize, maxSize);\n            emojiData = canvas;\n        }\n        this._emojiShapeDict.set(key, emojiData);\n        particle.emojiData = emojiData;\n    }\n}\n","export function drawEmoji(data) {\n    const { context, particle, radius, opacity } = data, emojiData = particle.emojiData, double = 2, diameter = radius * double, previousAlpha = context.globalAlpha;\n    if (!emojiData) {\n        return;\n    }\n    context.globalAlpha = opacity;\n    context.drawImage(emojiData, -radius, -radius, diameter, diameter);\n    context.globalAlpha = previousAlpha;\n}\n"],"names":["defaultFont","EmojiDrawer","_classCallCheck","this","_emojiShapeDict","Map","_createClass","key","value","_step","_iterator","_createForOfIteratorHelper","s","n","done","_step$value","_slicedToArray","emojiData","ImageBitmap","close","delete","err","e","f","data","context","particle","radius","opacity","diameter","previousAlpha","globalAlpha","drawImage","drawEmoji","_init","_asyncToGenerator","_regeneratorRuntime","mark","_callee","container","options","promises","shapeOptions","wrap","_context","prev","next","actualOptions","validTypes","find","t","isInArray","particles","shape","type","abrupt","loadFont","map","executeOnSingleOrMultiple","font","push","Promise","all","stop","_x","apply","arguments","_shapeData$font","shapeData","emoji","itemFromSingleOrMultiple","randomIndexData","concat","existingData","get","canvasSize","getRangeMax","size","maxSize","OffscreenCanvas","canvas","getContext","textBaseline","textAlign","fillText","transferToImageBitmap","document","createElement","width","height","set"],"sourceRoot":""}